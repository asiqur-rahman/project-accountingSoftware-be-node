
CREATE OR REPLACE  PROCEDURE SP_Master_Report(
	fromDate date,
	toDate date
)
BEGIN
	select r.date as Date, SUM(r.Cash) as Cash,SUM(r.Card) as Card,SUM(r.Cheque) as Cheque,SUM(r.Supplier) as Supplier,SUM(r.salary) as Salary ,SUM(r.expense) as Expense from (
	select CONCAT('Expense.id', ':', e.id),e.`date`,null as Cash,null as Card,null as Cheque,null as Supplier, null as Salary, e.shopRent+e.accountantFee+e.bankFee+e.gst+e.electricityBill+e.mobileBill+e.truckBill+e.insuranceFee+e.`others` as Expense 
	from expenses e where e.date BETWEEN fromdate and toDate
	union all 
	select CONCAT('Supply.id', ':', s.id),s.`date` ,null, null, null, s.amount  ,null,null 
	from supplies s where s.date BETWEEN fromdate and toDate
	union all 
	select CONCAT('Sale.id', ':', sa.id),sa.`date` ,sa.cash,sa.card+sa.card2,sa.cheque,null,null,null  
	from sales sa where sa.date BETWEEN fromdate and toDate
	union  all 
	select CONCAT('Wages.id', ':', ew.id),ew.`dateFrom`,null, null, null,null,ew.salary+ew.payg+ew.super+ew.annual+ew.cash  ,null 
	from employeeWages ew where ew.dateFrom BETWEEN fromdate and toDate
	) As r where r.date IS NOT NULL group by date ;

END