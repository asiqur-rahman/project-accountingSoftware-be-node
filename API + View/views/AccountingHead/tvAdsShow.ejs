<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="shortcut icon" href="/public/assets/images/favicon.ico">
    <title><%- title %> | Chicken Man</title>
    <style>
        @import url('https://fonts.googleapis.com/css?family=Montserrat');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #000;
            color: #fff;
        }

        .intro {
            height: 100vh;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            letter-spacing: 0.1rem;
        }

        .intro-slideshow img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            /* relative to nearest positioned ancestor and not nearest block-level ancestor - alternatively: width: 100vw; */
            height: 100%;
            /* relative to nearest positioned ancestor and not nearest block-level ancestor - alternatively: height: 100vh; */
            object-fit: cover;
            z-index: -1;
            /* filter: brightness(50%); */
            /* 0% black, 100% original image, values > 100% are allowed for brighter than original image. */
            /* display: none; */
            opacity: 0;
            transition: opacity 0.75s ease-in-out;
        }

        /* .intro-slideshow img:first-child {
        display: block;
        opacity: 1;
        } */
        .intro .intro-header {
            border-radius: 0.5rem;
            padding: 2rem 2.5rem;
            background-color: rgba(0, 0, 0, 0.9);
            color: #fff;
        }

        .intro h1 {
            font-size: 4rem;
            margin-bottom: 0.75rem;
        }

        .intro p {
            font-size: 1.75rem;
        }

        @media (max-width: 700px) {
            html {
                font-size: 12px;
            }

            .intro-header {
                padding: 1.5rem 2rem;
            }

            .intro h1 {
                font-size: 2.5rem;
            }

            .intro p {
                font-size: 1.25rem;
            }
        }
    </style>
</head>

<body>

    <header class="intro">
        <div class="intro-slideshow">
            <% for (var j = 0; j < allAds.length; j++) { %>
                <img src="<%=allAds[j].link%>">
            <% } %>
            
        </div>
    </header>
    <script src="/public/assets/libs/jquery/jquery.min.js"></script>
    <script src="/public/assets/js/key-disable.js"></script>
    <script>
        /* Get into full screen */
        function GoInFullscreen(element) {
          if(element.requestFullscreen)
            element.requestFullscreen();
          else if(element.mozRequestFullScreen)
            element.mozRequestFullScreen();
          else if(element.webkitRequestFullscreen)
            element.webkitRequestFullscreen();
          else if(element.msRequestFullscreen)
            element.msRequestFullscreen();
        }
        
        /* Get out of full screen */
        function GoOutFullscreen() {
          if(document.exitFullscreen)
            document.exitFullscreen();
          else if(document.mozCancelFullScreen)
            document.mozCancelFullScreen();
          else if(document.webkitExitFullscreen)
            document.webkitExitFullscreen();
          else if(document.msExitFullscreen)
            document.msExitFullscreen();
        }
        
        /* Is currently in full screen or not */
        function IsFullScreenCurrently() {
          var full_screen_element = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement || null;
          
          // If no element is in full-screen
          if(full_screen_element === null)
            return false;
          else
            return true;
        };
      
        $(".intro").on('click', function() {
          if(IsFullScreenCurrently())
            GoOutFullscreen();
          else{
            GoInFullscreen($(".intro").get(0));
          }
        });
      
        $(".intro").on('click', function() {
          if(IsFullScreenCurrently())
            GoOutFullscreen();
          else
            GoInFullscreen($(".intro").get(0));
        });
      
    </script>
    <script type="text/javascript">
        const slideshowImages = document.querySelectorAll(".intro-slideshow img");

        const nextImageDelay = 6000;
        let currentImageCounter = 0; // setting a variable to keep track of the current image (slide)

        // slideshowImages[currentImageCounter].style.display = "block";
        slideshowImages[currentImageCounter].style.opacity = 1;

        setInterval(nextImage, nextImageDelay);

        function nextImage() {
            // slideshowImages[currentImageCounter].style.display = "none";
            slideshowImages[currentImageCounter].style.opacity = 0;

            currentImageCounter = (currentImageCounter + 1) % slideshowImages.length;

            // slideshowImages[currentImageCounter].style.display = "block";
            slideshowImages[currentImageCounter].style.opacity = 1;
        }
    </script>

</body>

</html>